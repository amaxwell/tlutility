#summary How to compile TeX Live Utility.
#labels Phase-Implementation

== You cannot compile TeX Live Utility with Xcode 4 ==

Apple removed the recently-added capabilities for Interface Builder plugins, and has not responded to developer requests for adding that feature back; their recommended solution is to use Xcode 3.x, which is not compatible with Lion (10.7).  Consequently, you need to use Snow Leopard (10.6.x) and Xcode 3.2.x (earlier versions may work as well).  This also avoids the [http://inessential.com/2011/09/02/the_part_of_xcode_4_that_tires_me_out painful UI of Xcode 4], so it's not all bad.

Update: it now compiles with Xcode 4.2 on Lion.  As far as I know, you still can't compile with Xcode 4 on Snow Leopard, but I'm not paying the developer fee to try 4.2 on Snow Leopard.  Note that xib files modified with Xcode on Lion may not be backwards compatible with Interface Builder on 10.6.8, regardless of the compatibility settings.

== Get The Source ==

Follow the instructions here: http://code.google.com/p/mactlmgr/source/checkout

Make sure the vendorsrc directory is populated by the svn externals.  This should happen automatically, at least if you use command-line svn.

== Set up Xcode ==

Set Xcode's build preferences to use a separate location for build products an intermediate files, as in this screenshot.  Otherwise Xcode will dump all of its object files into the source directory, and the project will fail to compile and link due to missing frameworks ([http://sparkle.andymatuschak.org Sparkle] and [http://fileview.googlecode.com FileView]).

http://mactlmgr.googlecode.com/svn/wiki/images/XcodePrefs.png

== Create a Certificate ==

You need to create a self-signed certificate, following the instructions on this page:

http://developer.apple.com/documentation/Security/Conceptual/CodeSigningGuide/Procedures/Procedures.html 

Make sure you name it "TeX Live Utility Signing Certificate" (no quotes), and add it to your keychain.  This will allow codesign to sign your binaries, which is also a runtime requiredment for tlmgr_cwrapper.

== Compile ==

Build the project in Xcode.  It will likely fail since it can't find the [http://fileview.googlecode.com FileView] Interface Builder plugin, so you'll have to add that to Interface Builder's preferences.  Just double-clicking the FileViewIBPlugin.ibplugin in Finder might work.
